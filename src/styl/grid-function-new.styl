.grid-row
  display: flex
  flex-direction: row
  flex-wrap: wrap
  &--reverse
    flex-direction: row-reverse
  &--nowrap
    flex-wrap: nowrap
  &--align-center
    align-items: center

.grid-item
  position: relative
  flex: 0 1 auto
  max-width: 100%
  max-height: 100%
  min-width: 0
  min-height: 0

grid-maker($width = false, $gutter = false, $size = false, $cols = 24)

  .grid-row-{$size}--reverse
    direction: column-reverse

  if $width
    .container
      width: $width

  if $gutter
    .grid-item
      padding-left: ( $gutter / 2 )
      padding-right: ( $gutter / 2 )

    .grid-item--tight
      padding-left: ( $gutter / 4 )
      padding-right: ( $gutter / 4 )

    .grid--nested
      margin-left: -( $gutter / 2 )
      margin-right: -( $gutter / 2 )

    .grid--nested-tight
      margin-left: -( $gutter / 4 )
      margin-right: -( $gutter / 4 )

  // COLUMN SIZES & OFFSETS

  if $gutter and $size

    for offset in 0..($cols - 1)
      .grid-row
        .offset-{$size}-{offset}
          margin-left: ( 100% / $cols ) * offset

    for col in 1..$cols
      .is-{$size}-{col}
        flex-basis: ( 100% / $cols ) * col
      .grid-row > .is-{$size}-{col}
        max-width: ( 100% / $cols ) * col
